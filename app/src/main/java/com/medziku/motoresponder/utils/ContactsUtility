class ContactsUtility{

private Context context;

   public ContactsUtility(Context context){
   this.context=context;
   }
   
   public boolean contactBookContainsContact(String phoneNumber){
   
   //String phoneNumber = "777 777 7777"; 

String[] columns = new String[]{Phone.CONTACT_ID, Phone.DISPLAY_NAME, Phone.NUMBER };    

 Uri uri = Uri.withAppendedPath(PhoneLookup.CONTENT_FILTER_URI,Uri.encode(phoneNumber));        
 Cursor cs= this.context.getContentResolver().query(uri, new String[]{PhoneLookup.DISPLAY_NAME},null,null,null);
boolean result= false;
 if(cs.getCount()>0)
   // contactName=cs.getString(cs.getColumnIndex(PhoneLookup.DISPLAY_NAME));
   result=true;

cs.close();
return result;
   }

public String[] readAllContactBookGroups(){
   final String[] GROUP_PROJECTION = new String[] {
            ContactsContract.Groups._ID, ContactsContract.Groups.TITLE };
   Cursor gC = getContentResolver().query(
            ContactsContract.Groups.CONTENT_URI, GROUP_PROJECTION,null,null,null);
   gC.moveToFirst();
   String[] names = new String[gc.getCount()];
   int i=0;
   while (!gC.isAfterLast()) {
        int titleColumn = gC.getColumnIndex(ContactsContract.Groups.TITLE);
        String Id = gC.getString(titleColumn);
        names[i]=Id;
        i++;
}
gC.close();
       return names;
}

}
